{
  "title": "Portal Base",
  "version": "2.1.0",
  "description": "The is the primary project for your server. It holds the users and teams that have access to the portal. DO NOT build your app in this project. Create a new project.",
  "primary": true,
  "name": "formio",
  "roles": {
    "administrator": {
      "title": "Administrator",
      "description": "The Administrator Role.",
      "admin": true,
      "default": false
    },
    "authenticated": {
      "title": "Authenticated",
      "description": "The Authenticated Role."
    },
    "anonymous": {
      "title": "Anonymous",
      "description": "The Anonymous Role.",
      "default": true
    }
  },
  "forms": {
    "userLoginForm": {
      "title": "User Login Form",
      "type": "form",
      "name": "userLoginForm",
      "path": "user/login",
      "display": "form",
      "tags": [],
      "components": [
        {
          "source": "553db94e72f702e714dd9779",
          "protected": false,
          "tableView": true,
          "lockKey": true,
          "persistent": true,
          "type": "email",
          "unique": true,
          "defaultValue": "",
          "suffix": "",
          "prefix": "",
          "placeholder": "Email",
          "key": "email",
          "label": "Email",
          "inputType": "email",
          "hideLabel": true,
          "input": true,
          "validate": {
          "required": true
        }
        },
        {
          "source": "553db94e72f702e714dd9779",
          "tableView": false,
          "lockKey": true,
          "type": "password",
          "persistent": true,
          "protected": true,
          "hideLabel": true,
          "suffix": "",
          "prefix": "",
          "placeholder": "Password",
          "key": "password",
          "label": "Password",
          "inputType": "password",
          "input": true,
          "validate": {
            "required": true
          }
        },
        {
          "tableView": false,
          "type": "button",
          "input": true,
          "label": "LOG IN",
          "key": "login",
          "size": "md",
          "leftIcon": "",
          "rightIcon": "",
          "block": true,
          "action": "submit",
          "disableOnInvalid": true,
          "theme": "primary"
        }
      ],
      "access": [
        {
          "type": "read_all",
          "roles": [
            "authenticated",
            "anonymous"
          ]
        }
      ],
      "submissionAccess": [
        {
          "type": "create_own",
          "roles": [
            "anonymous",
            "authenticated"
          ]
        }
      ]
    },
    "userRegistrationForm": {
      "title": "User Registration Form",
      "type": "form",
      "name": "userRegistrationForm",
      "path": "user/register",
      "display": "form",
      "tags": [],
      "components": [
        {
          "label": "HTML",
          "content": "Registrations are disabled",
          "key": "html",
          "type": "htmlelement",
          "tag": "p"
        }
      ],
      "access": [
        {
          "type": "read_all",
          "roles": [
            "authenticated",
            "anonymous"
          ]
        }
      ],
      "submissionAccess": [
        {
          "type": "create_own",
          "roles": [
            "anonymous",
            "authenticated"
          ]
        }
      ]
    },
    "twoFaLoginForm": {
      "title": "Two-Factor Authentication Form",
      "type": "form",
      "name": "twoFaLoginForm",
      "path": "user/twofaloginform",
      "display": "form",
      "tags": [],
      "settings": {},
      "components": [
        {
          "label": "Code",
          "inputMask": "999999",
          "autofocus": true,
          "tableView": true,
          "validate": {
            "required": true,
            "minLength": 6,
            "maxLength": 6
          },
          "key": "token",
          "type": "textfield",
          "input": true
        },
        {
          "label": "Submit",
          "showValidations": false,
          "block": true,
          "disableOnInvalid": true,
          "tableView": false,
          "key": "submit",
          "type": "button",
          "input": true
        }
      ],
      "access": [
        {
          "roles": [
            "administrator",
            "authenticated",
            "anonymous"
          ],
          "type": "read_all"
        },
        {
          "roles": [
            "administrator"
          ],
          "type": "update_all"
        },
        {
          "roles": [
            "administrator"
          ],
          "type": "delete_all"
        }
      ],
      "submissionAccess": [
        {
          "roles": [
            "authenticated",
            "anonymous"
          ],
          "type": "create_own"
        },
        {
          "roles": [
            "administrator"
          ],
          "type": "create_all"
        },
        {
          "roles": [
            "authenticated",
            "anonymous"
          ],
          "type": "read_own"
        },
        {
          "roles": [
            "administrator"
          ],
          "type": "read_all"
        },
        {
          "roles": [
            "anonymous",
            "authenticated"
          ],
          "type": "update_own"
        },
        {
          "roles": [
            "administrator"
          ],
          "type": "update_all"
        },
        {
          "roles": [
            "anonymous",
            "authenticated"
          ],
          "type": "delete_own"
        },
        {
          "roles": [
            "administrator"
          ],
          "type": "delete_all"
        }
      ]
    },
    "twoFactorRecoveryForm": {
      "title": "Two-Factor Recovery Form",
      "type": "form",
      "name": "twoFactorRecoveryForm",
      "path": "user/twofactorrecoveryform",
      "display": "form",
      "tags": [],
      "settings": {},
      "components": [
        {
          "label": "Recovery Code",
          "autofocus": true,
          "tableView": true,
          "validate": {
            "required": true
          },
          "key": "token",
          "type": "textfield",
          "input": true
        },
        {
          "label": "Submit",
          "showValidations": false,
          "block": true,
          "disableOnInvalid": true,
          "tableView": false,
          "key": "submit",
          "type": "button",
          "input": true
        }
      ],
      "access": [
        {
          "roles": [
            "administrator",
            "authenticated",
            "anonymous"
          ],
          "type": "read_all"
        },
        {
          "roles": [
            "administrator"
          ],
          "type": "update_all"
        },
        {
          "roles": [
            "administrator"
          ],
          "type": "delete_all"
        }
      ],
      "submissionAccess": [
        {
          "roles": [
            "authenticated",
            "anonymous"
          ],
          "type": "create_own"
        },
        {
          "roles": [
            "administrator"
          ],
          "type": "create_all"
        },
        {
          "roles": [
            "authenticated",
            "anonymous"
          ],
          "type": "read_own"
        },
        {
          "roles": [
            "administrator"
          ],
          "type": "read_all"
        },
        {
          "roles": [
            "authenticated",
            "anonymous"
          ],
          "type": "update_own"
        },
        {
          "roles": [
            "administrator"
          ],
          "type": "update_all"
        },
        {
          "roles": [
            "anonymous",
            "authenticated"
          ],
          "type": "delete_own"
        },
        {
          "roles": [
            "administrator"
          ],
          "type": "delete_all"
        }
      ]
    },
    "twoFactorAuthenticationSettingsForm": {
      "title": "Two-Factor Authentication Settings Form",
      "type": "form",
      "name": "twoFactorAuthenticationSettingsForm",
      "path": "user/twofasettingsform",
      "tags": [],
      "components": [
          {
              "label": "Spinner",
              "tag": "div",
              "attrs": [
                  {
                      "attr": "",
                      "value": ""
                  }
              ],
              "content": "<div class=\"text-center\">\r\n  <div class=\"spinner-border text-primary\" role=\"status\">\r\n    <span class=\"sr-only\">Loading...</span>\r\n  </div>\r\n</div>",
              "refreshOnChange": true,
              "key": "spinner",
              "customConditional": "show = !data.userLoaded;",
              "type": "htmlelement",
              "input": false,
              "tableView": false
          },
          {
              "title": "Two-Factor Authentication",
              "theme": "info",
              "collapsible": false,
              "hideLabel": true,
              "key": "FaPanel",
              "customConditional": "show = data.userLoaded;\n",
              "type": "panel",
              "label": "Two-Factor Authentication",
              "input": false,
              "tableView": false,
              "components": [
                  {
                      "html": "<h2 style=\"margin-left:0px;\">Get verification codes with an Authenticator App</h2><p style=\"margin-left:0px;\">If you set up 2-Step Verification, you can use an Authenticator App to receive codes. You can still receive codes without an internet connection or mobile service.</p><p style=\"margin-left:0px;\">For example, <strong>Google Authenticator, Microsoft Authenticator, Authy</strong>,<strong> etc.</strong></p>",
                      "label": "Content",
                      "refreshOnChange": false,
                      "key": "content",
                      "type": "content",
                      "input": false,
                      "tableView": false
                  },
                  {
                      "label": "QR Code",
                      "persistent": "client-only",
                      "trigger": {
                          "init": false,
                          "server": false
                      },
                      "refreshOnEvent": "trigger2Fa",
                      "event": "qrLoaded",
                      "dataSrc": "url",
                      "fetch": {
                          "url": "{{Formio.projectUrl}}/2fa/{{data.twoFaMethod}}",
                          "method": "post",
                          "headers": [
                              {
                                  "key": "two-fa-datasource",
                                  "value": "true"
                              }
                          ],
                          "forwardHeaders": true,
                          "authenticate": true,
                          "specifyPostBody": ""
                      },
                      "allowCaching": false,
                      "key": "qrCode",
                      "logic": [
                          {
                              "name": "Clear Data",
                              "trigger": {
                                  "type": "event",
                                  "event": "delete2Fa"
                              },
                              "actions": [
                                  {
                                      "name": "Clear Data",
                                      "type": "value",
                                      "value": "value = null;"
                                  }
                              ]
                          }
                      ],
                      "type": "datasource",
                      "input": true,
                      "tableView": false
                  },
                  {
                      "label": "QrCode",
                      "tag": "div",
                      "className": "text-center mb-4",
                      "attrs": [
                          {
                              "attr": "",
                              "value": ""
                          }
                      ],
                      "content": "<img src=\"{{data.qrCode || ''}}\" alt=\"QRCode\">",
                      "refreshOnChange": true,
                      "key": "qrCodeImage",
                      "customConditional": "show = typeof data.qrCode === 'string';",
                      "type": "htmlelement",
                      "input": false,
                      "tableView": false
                  },
                  {
                      "title": "Recovery Info Panel",
                      "theme": "danger",
                      "collapsible": false,
                      "hideLabel": true,
                      "key": "recoveryInfoPanel",
                      "customConditional": "show = data.verification && data.verification.recoveryCodes;",
                      "type": "panel",
                      "label": "Recovery Info Panel",
                      "input": false,
                      "tableView": false,
                      "components": [
                          {
                              "label": "Recovery Codes",
                              "persistent": "client-only",
                              "key": "recoveryCodes",
                              "logic": [
                                  {
                                      "name": "Set Velue",
                                      "trigger": {
                                          "type": "javascript",
                                          "javascript": "result = data.verification && data.verification.recoveryCodes;"
                                      },
                                      "actions": [
                                          {
                                              "name": "Set Values",
                                              "type": "value",
                                              "value": "var codes = '';\nfor(var i = 0; i < data.verification.recoveryCodes.length; i++){\n  codes += '<h4 style=\"margin-left:0px;text-align:center; color:red;\"><strong>' + data.verification.recoveryCodes[i] + '</strong></h4>';\n}\n\nif (codes && codes !== value) {\n  value = codes;\n}"
                                          }
                                      ]
                                  }
                              ],
                              "type": "hidden",
                              "input": true,
                              "tableView": false
                          },
                          {
                              "label": "Recovery Info",
                              "tag": "div",
                              "attrs": [
                                  {
                                      "attr": "",
                                      "value": ""
                                  }
                              ],
                              "refreshOnChange": false,
                              "key": "recoveryInfo",
                              "logic": [
                                  {
                                      "name": "Set Content",
                                      "trigger": {
                                          "type": "javascript",
                                          "javascript": "result = !!data.recoveryCodes;"
                                      },
                                      "actions": [
                                          {
                                              "name": "Set Content",
                                              "type": "property",
                                              "property": {
                                                  "label": "Content",
                                                  "value": "content",
                                                  "type": "string",
                                                  "component": "content"
                                              },
                                              "content": "<h5 style=\"margin-left:0px;text-align:center;\"><span class=\"text-big\"><strong>Please write it down in a safe place.</strong></span>.</h5>\n<h5 style=\"margin-left:0px;text-align:center;\"><span class=\"text-big\"><strong>If you lose access to your two-factor authentication credentials, you can use these recovery codes to log in.</strong></span></h5>\n<h5 style=\"margin-left:0px;text-align:center;\"><span class=\"text-big\"><strong>Each code is acceptable to one time login. After login it will be deleted.</strong></span></h5>\n{{data.recoveryCodes}}"
                                          }
                                      ]
                                  }
                              ],
                              "type": "htmlelement",
                              "input": false,
                              "tableView": false
                          }
                      ]
                  },
                  {
                      "label": "Two FA Method",
                      "persistent": "client-only",
                      "key": "twoFaMethod",
                      "logic": [
                          {
                              "name": "Generate",
                              "trigger": {
                                  "type": "event",
                                  "event": "generate2Fa"
                              },
                              "actions": [
                                  {
                                      "name": "Set Value",
                                      "type": "value",
                                      "value": "value = 'generate';"
                                  }
                              ]
                          },
                          {
                              "name": "Represent",
                              "trigger": {
                                  "type": "event",
                                  "event": "represent2Fa"
                              },
                              "actions": [
                                  {
                                      "name": "Set Value",
                                      "type": "value",
                                      "value": "value = 'represent';"
                                  }
                              ]
                          },
                          {
                              "name": "Turn Off",
                              "trigger": {
                                  "type": "event",
                                  "event": "turnOff2Fa"
                              },
                              "actions": [
                                  {
                                      "name": "Set Value",
                                      "type": "value",
                                      "value": "value = 'turn-off';"
                                  }
                              ]
                          }
                      ],
                      "type": "hidden",
                      "input": true,
                      "tableView": false
                  },
                  {
                      "label": "Columns",
                      "columns": [
                          {
                              "components": [],
                              "width": 4,
                              "offset": 0,
                              "push": 0,
                              "pull": 0,
                              "size": "md",
                              "currentWidth": 4
                          },
                          {
                              "components": [
                                  {
                                      "label": "Turn On 2FA",
                                      "action": "custom",
                                      "showValidations": false,
                                      "block": true,
                                      "tooltip": "Turnes on the 2FA",
                                      "tableView": false,
                                      "key": "turnOn2Fa",
                                      "conditional": {
                                          "show": false,
                                          "when": "twoFactorAuthenticationEnabled",
                                          "eq": "true"
                                      },
                                      "type": "button",
                                      "custom": "instance.emit('generate2Fa');\ninstance.emit('trigger2Fa');",
                                      "input": true,
                                      "hideOnChildrenHidden": false
                                  }
                              ],
                              "width": 4,
                              "offset": 0,
                              "push": 0,
                              "pull": 0,
                              "size": "md",
                              "currentWidth": 4
                          },
                          {
                              "components": [],
                              "size": "md",
                              "width": 4,
                              "offset": 0,
                              "push": 0,
                              "pull": 0,
                              "currentWidth": 4
                          }
                      ],
                      "key": "columns1",
                      "customConditional": "show = !data.twoFactorAuthenticationEnabled && (!data.qrCode || data.qrCode.success);",
                      "type": "columns",
                      "input": false,
                      "tableView": false
                  },
                  {
                      "label": "Columns",
                      "columns": [
                          {
                              "components": [
                                  {
                                      "label": "Show QR",
                                      "action": "custom",
                                      "showValidations": false,
                                      "theme": "success",
                                      "block": true,
                                      "tooltip": "Represents an existing QR Code.",
                                      "tableView": false,
                                      "key": "represent2Fa",
                                      "customConditional": "show = !data.qrCode; ",
                                      "type": "button",
                                      "custom": "instance.emit('represent2Fa');\ninstance.emit('trigger2Fa');",
                                      "input": true,
                                      "hideOnChildrenHidden": true
                                  }
                              ],
                              "width": 4,
                              "offset": 0,
                              "push": 0,
                              "pull": 0,
                              "size": "md",
                              "currentWidth": 4
                          },
                          {
                              "components": [
                                  {
                                      "label": "Turn Off 2FA",
                                      "action": "custom",
                                      "showValidations": false,
                                      "theme": "danger",
                                      "block": true,
                                      "tooltip": "Turnes off the 2FA.",
                                      "tableView": false,
                                      "key": "turnOff2Fa",
                                      "customConditional": "show = data.twoFactorAuthenticationEnabled && !(data.verification && data.verification.recoveryCode);",
                                      "type": "button",
                                      "custom": "instance.hook('onTurnOffTwoFa', function(isConfirmed){\nif (isConfirmed) {\n    instance.emit('turnOff2Fa');\n    instance.emit('trigger2Fa');\n  }\n});\n",
                                      "input": true,
                                      "hideOnChildrenHidden": true
                                  }
                              ],
                              "width": 4,
                              "offset": 0,
                              "push": 0,
                              "pull": 0,
                              "size": "md",
                              "currentWidth": 4
                          },
                          {
                              "components": [],
                              "size": "md",
                              "width": 4,
                              "offset": 0,
                              "push": 0,
                              "pull": 0,
                              "currentWidth": 4
                          }
                      ],
                      "hideOnChildrenHidden": true,
                      "key": "columns",
                      "conditional": {
                          "show": true,
                          "when": "twoFactorAuthenticationEnabled",
                          "eq": "true"
                      },
                      "type": "columns",
                      "input": false,
                      "tableView": false
                  },
                  {
                      "label": "Columns",
                      "columns": [
                          {
                              "components": [],
                              "size": "md",
                              "width": 3,
                              "offset": 0,
                              "push": 0,
                              "pull": 0,
                              "currentWidth": 3
                          },
                          {
                              "components": [
                                  {
                                      "label": "Code",
                                      "placeholder": "Code",
                                      "description": "Verification code from the App",
                                      "inputMask": "999999",
                                      "hideLabel": true,
                                      "autofocus": true,
                                      "tableView": true,
                                      "persistent": "client-only",
                                      "encrypted": true,
                                      "key": "code",
                                      "logic": [
                                          {
                                              "name": "Reset Value",
                                              "trigger": {
                                                  "type": "event",
                                                  "event": "verify2Fa"
                                              },
                                              "actions": [
                                                  {
                                                      "name": "Reset Value",
                                                      "type": "value",
                                                      "value": "value = '';"
                                                  }
                                              ]
                                          },
                                          {
                                              "name": "Validate",
                                              "trigger": {
                                                  "type": "event",
                                                  "event": "verified"
                                              },
                                              "actions": [
                                                  {
                                                      "name": "Validate",
                                                      "type": "customAction",
                                                      "customAction": "if(data.verification && data.verification.message) {\n  instance.setCustomValidity(data.verification.message, true, true)\n}"
                                                  }
                                              ]
                                          }
                                      ],
                                      "type": "textfield",
                                      "input": true,
                                      "hideOnChildrenHidden": true
                                  }
                              ],
                              "width": 4,
                              "offset": 0,
                              "push": 0,
                              "pull": 0,
                              "size": "md",
                              "currentWidth": 4
                          },
                          {
                              "components": [
                                  {
                                      "label": "Confirm",
                                      "action": "event",
                                      "showValidations": false,
                                      "theme": "success",
                                      "block": true,
                                      "disabled": true,
                                      "tableView": false,
                                      "key": "comfirm2Fa",
                                      "logic": [
                                          {
                                              "name": "Set Enabled",
                                              "trigger": {
                                                  "type": "javascript",
                                                  "javascript": "var code = data.code;\nresult = code && code.replace(/_/g, '').length === 6;"
                                              },
                                              "actions": [
                                                  {
                                                      "name": "Set Enabled",
                                                      "type": "property",
                                                      "property": {
                                                          "label": "Disabled",
                                                          "value": "disabled",
                                                          "type": "boolean"
                                                      },
                                                      "state": false
                                                  }
                                              ]
                                          },
                                          {
                                              "name": "Set Disabled",
                                              "trigger": {
                                                  "type": "javascript",
                                                  "javascript": "var code = data.code;\nresult = !code || code.replace(/_/g, '').length !== 6;"
                                              },
                                              "actions": [
                                                  {
                                                      "name": "Set Disabled",
                                                      "type": "property",
                                                      "property": {
                                                          "label": "Disabled",
                                                          "value": "disabled",
                                                          "type": "boolean"
                                                      },
                                                      "state": true
                                                  }
                                              ]
                                          }
                                      ],
                                      "type": "button",
                                      "event": "verify2Fa",
                                      "input": true,
                                      "hideOnChildrenHidden": true
                                  }
                              ],
                              "offset": 0,
                              "push": 0,
                              "pull": 0,
                              "size": "md",
                              "width": 2,
                              "currentWidth": 2
                          },
                          {
                              "components": [],
                              "size": "md",
                              "width": 3,
                              "offset": 0,
                              "push": 0,
                              "pull": 0,
                              "currentWidth": 3
                          }
                      ],
                      "hideOnChildrenHidden": true,
                      "key": "columns2",
                      "customConditional": "show = !!data.qrCode\n  && !['represent', 'turn-off'].includes(data.twoFaMethod) \n  && !(data.verification && data.verification.success);",
                      "type": "columns",
                      "input": false,
                      "tableView": false
                  },
                  {
                      "label": "Verification",
                      "persistent": "client-only",
                      "trigger": {
                          "init": false,
                          "server": false
                      },
                      "refreshOnEvent": "verify2Fa",
                      "event": "verified",
                      "dataSrc": "url",
                      "fetch": {
                          "url": "{{Formio.projectUrl}}/2fa/turn-on",
                          "method": "post",
                          "headers": [
                              {
                                  "key": "two-fa-datasource",
                                  "value": "true"
                              }
                          ],
                          "forwardHeaders": true,
                          "authenticate": true,
                          "specifyPostBody": "body = {\n  twoFaCode: data.code,\n}"
                      },
                      "allowCaching": false,
                      "key": "verification",
                      "logic": [
                          {
                              "name": "Clear Value",
                              "trigger": {
                                  "type": "event",
                                  "event": "turnOff2Fa"
                              },
                              "actions": [
                                  {
                                      "name": "Clear Value",
                                      "type": "value",
                                      "value": "value = '';"
                                  }
                              ]
                          }
                      ],
                      "type": "datasource",
                      "input": true,
                      "tableView": false
                  }
              ]
          }
      ],
      "display": "form",
      "access": [
          {
              "roles": [
                "administrator",
                "authenticated"
              ],
              "type": "read_all"
          },
          {
              "roles": [
                "administrator"
              ],
              "type": "update_all"
          },
          {
              "roles": [
                "administrator"
              ],
              "type": "delete_all"
          }
      ],
      "submissionAccess": [],
      "controller": "function updateUserData() {\n  Formio.makeStaticRequest(Formio.projectUrl + '/current', 'GET', null, { ignoreCache: true })\n    .then(function(user) {\n      if (user && user.data) {\n      Formio.setUser(user);\n      var newData = Object.assign(instance.data, user.data);\n      instance.data = newData;\n      instance.data.userLoaded = true;\n      instance.triggerChange();\n    }\n  });\n}\n\nif (instance && Formio) {\n  updateUserData();\n  instance.on('verified', updateUserData);\n  instance.on('qrLoaded', function() {\n    if (data.twoFaMethod === 'turn-off') {\n      updateUserData();\n    }\n  });\n}\n\nif (instance && instance.options) {\n  if (!instance.options.hooks) {\n    instance.options.hooks = {};\n  }\n  \n  if (!instance.options.hooks.onTurnOffTwoFa) {\n    instance.options.hooks.onTurnOffTwoFa = function(cb) {\n      var isConfirmed = confirm('Are you sure you want to turn off Two-Factor Authentication?');\n      \n      cb(isConfirmed);\n    }\n  }\n}",
      "settings": {}
    }
  },
  "actions": {
    "user:role": {
      "title": "Role Assignment",
      "name": "role",
      "form": "user",
      "settings": {
        "association": "new",
        "type": "add",
        "role": "authenticated"
      },
      "priority": 1,
      "method": [
        "create"
      ],
      "handler": [
        "after"
      ]
    },
    "user:save": {
      "title": "Save Submission",
      "name": "save",
      "form": "user",
      "settings": {},
      "priority": 10,
      "method": [
        "create",
        "update"
      ],
      "handler": [
        "before"
      ]
    },
    "admin:role": {
      "title": "Role Assignment",
      "name": "role",
      "form": "admin",
      "settings": {
        "association": "new",
        "type": "add",
        "role": "administrator"
      },
      "priority": 1,
      "method": [
        "create"
      ],
      "handler": [
        "after"
      ]
    },
    "admin:save": {
      "title": "Save Submission",
      "name": "save",
      "form": "admin",
      "settings": {},
      "priority": 10,
      "method": [
        "create",
        "update"
      ],
      "handler": [
        "before"
      ]
    },
    "userLoginForm:login": {
      "title": "Login",
      "name": "login",
      "form": "userLoginForm",
      "settings": {
        "resources": [
          "user",
          "admin"
        ],
        "username": "email",
        "password": "password"
      },
      "priority": 2,
      "method": [
        "create"
      ],
      "handler": [
        "before"
      ]
    },
    "team:save": {
      "title": "Save Submission",
      "name": "save",
      "form": "team",
      "settings": {},
      "priority": 10,
      "method": [
        "create",
        "update"
      ],
      "handler": [
        "before"
      ]
    },
    "member:save": {
      "title": "Save Submission",
      "name": "save",
      "form": "member",
      "settings": {},
      "priority": 10,
      "method": [
        "create",
        "update"
      ],
      "handler": [
        "before"
      ]
    },
    "language:save": {
      "title": "Save Submission",
      "name": "save",
      "form": "language",
      "settings": {},
      "priority": 10,
      "method": [
        "create",
        "update"
      ],
      "handler": [
        "before"
      ]
    },
    "resetPassword:resetpass": {
      "title": "Reset Password",
      "name": "resetpass",
      "form": "resetPassword",
      "condition": {
        "custom": "",
        "value": "",
        "eq": "",
        "field": ""
      },
      "settings": {
        "resources": [
          "user"
        ],
        "message": "<p>Forgot your password? No problem.</p><p><a href=\"{{ resetlink }}\">Click here to reset your password</a></p> ",
        "subject": "You requested a password reset",
        "from": "no-reply@example.com",
        "transport": "sendgrid",
        "label": "Send Reset Password",
        "url": "https://portal.form.io/#/resetpass",
        "password": "password",
        "username": "email"
      },
      "priority": 0,
      "method": [
        "form",
        "create"
      ],
      "handler": [
        "after",
        "before"
      ]
    },
    "twoFaLoginForm:twofalogin": {
      "title": "2FA Login (Premium)",
      "name": "twofalogin",
      "form": "twoFaLoginForm",
      "condition": {
        "eq": "",
        "value": "",
        "custom": ""
      },
      "settings": {
        "token": "token"
      },
      "priority": 2,
      "method": [
        "create"
      ],
      "handler": [
        "before"
      ]
    },
    "twoFactorRecoveryForm:twofarecoverylogin": {
      "title": "2FA Recovery Login (Premium)",
      "name": "twofarecoverylogin",
      "form": "twoFactorRecoveryForm",
      "condition": {
        "eq": "",
        "value": "",
        "custom": ""
      },
      "settings": {
        "token": "token"
      },
      "priority": 2,
      "method": [
        "create"
      ],
      "handler": [
        "before"
      ]
    }
  },
  "resources": {
    "user": {
      "title": "User",
      "type": "resource",
      "name": "user",
      "path": "user",
      "display": "form",
      "tags": [],
      "components": [
        {
          "lockKey": true,
          "persistent": true,
          "unique": false,
          "protected": false,
          "input": true,
          "inputType": "text",
          "inputMask": "",
          "label": "Name",
          "key": "fullName",
          "placeholder": "Enter your full name",
          "prefix": "",
          "suffix": "",
          "multiple": false,
          "defaultValue": "",
          "validate": {
            "required": false,
            "minLength": "",
            "maxLength": "",
            "pattern": "",
            "custom": ""
          },
          "type": "textfield",
          "tableView": true,
          "conditional": {
            "show": null,
            "when": null,
            "eq": ""
          }
        },
        {
          "persistent": true,
          "unique": true,
          "input": true,
          "inputType": "email",
          "label": "Email",
          "key": "email",
          "placeholder": "Enter your email address",
          "prefix": "",
          "suffix": "",
          "defaultValue": "",
          "type": "email",
          "protected": false,
          "tableView": true,
          "kickbox": {
            "enabled": false
          },
          "tags": [],
          "conditional": {
            "show": "",
            "when": null,
            "eq": ""
          },
          "validate": {
            "required": true
          }
        },
        {
          "persistent": true,
          "protected": true,
          "input": true,
          "inputType": "password",
          "label": "Password",
          "key": "password",
          "placeholder": "Enter your password",
          "prefix": "",
          "suffix": "",
          "type": "password",
          "tableView": false,
          "validate": {
            "minLength": 8
          }
        },
        {
          "label": "Two-Factor Authentication Code",
          "hidden": true,
          "tableView": true,
          "protected": true,
          "key": "twoFactorAuthenticationCode",
          "type": "textfield",
          "input": true
        },
        {
          "label": "Two-Factor Authentication Recovery Codes",
          "hidden": true,
          "tableView": true,
          "multiple": true,
          "protected": true,
          "key": "twoFactorAuthenticationRecoveryCodes",
          "type": "textfield",
          "input": true
        },
        {
          "label": "Two-Factor Authentication Enabled",
          "hidden": true,
          "tableView": false,
          "defaultValue": false,
          "redrawOn": "data",
          "clearOnHide": false,
          "key": "twoFactorAuthenticationEnabled",
          "type": "checkbox",
          "input": true
        },
        {
          "theme": "primary",
          "disableOnInvalid": true,
          "action": "submit",
          "block": false,
          "rightIcon": "",
          "leftIcon": "",
          "size": "md",
          "key": "submit",
          "label": "Submit",
          "input": true,
          "type": "button",
          "tableView": false
        }
      ],
      "access": [
        {
          "type": "read_all",
          "roles": [
            "authenticated",
            "anonymous"
          ]
        }
      ],
      "submissionAccess": [
        {
          "type": "read_own",
          "roles": [
            "authenticated"
          ]
        },
        {
          "type": "update_own",
          "roles": [
            "authenticated"
          ]
        },
        {
          "type": "delete_own",
          "roles": [
            "authenticated"
          ]
        },
        {
          "type": "self"
        }
      ]
    },
    "admin": {
      "title": "Admin",
      "type": "resource",
      "name": "admin",
      "path": "admin",
      "display": "form",
      "tags": [],
      "components": [
        {
          "lockKey": true,
          "persistent": true,
          "unique": false,
          "protected": false,
          "input": true,
          "inputType": "text",
          "inputMask": "",
          "label": "Name",
          "key": "fullName",
          "placeholder": "Enter your full name",
          "prefix": "",
          "suffix": "",
          "multiple": false,
          "defaultValue": "",
          "validate": {
            "required": false,
            "minLength": "",
            "maxLength": "",
            "pattern": "",
            "custom": ""
          },
          "type": "textfield",
          "tableView": true,
          "conditional": {
            "show": null,
            "when": null,
            "eq": ""
          }
        },
        {
          "persistent": true,
          "unique": true,
          "input": true,
          "inputType": "email",
          "label": "Email",
          "key": "email",
          "placeholder": "Enter your email address",
          "prefix": "",
          "suffix": "",
          "defaultValue": "",
          "type": "email",
          "protected": false,
          "tableView": true,
          "kickbox": {
            "enabled": false
          },
          "tags": [],
          "conditional": {
            "show": "",
            "when": null,
            "eq": ""
          },
          "validate": {
            "required": true
          }
        },
        {
          "persistent": true,
          "protected": true,
          "input": true,
          "inputType": "password",
          "label": "Password",
          "key": "password",
          "placeholder": "Enter your password",
          "prefix": "",
          "suffix": "",
          "type": "password",
          "tableView": false,
          "validate": {
            "minLength": 8
          }
        },
        {
          "label": "Two-Factor Authentication Code",
          "hidden": true,
          "tableView": true,
          "protected": true,
          "key": "twoFactorAuthenticationCode",
          "type": "textfield",
          "input": true
        },
        {
          "label": "Two-Factor Authentication Recovery Codes",
          "hidden": true,
          "tableView": true,
          "multiple": true,
          "protected": true,
          "key": "twoFactorAuthenticationRecoveryCodes",
          "type": "textfield",
          "input": true
        },
        {
          "label": "Two-Factor Authentication Enabled",
          "hidden": true,
          "tableView": false,
          "defaultValue": false,
          "redrawOn": "data",
          "clearOnHide": false,
          "key": "twoFactorAuthenticationEnabled",
          "type": "checkbox",
          "input": true
        },
        {
          "theme": "primary",
          "disableOnInvalid": true,
          "action": "submit",
          "block": false,
          "rightIcon": "",
          "leftIcon": "",
          "size": "md",
          "key": "submit",
          "label": "Submit",
          "input": true,
          "type": "button",
          "tableView": false
        }
      ],
      "access": [
        {
          "type": "read_all",
          "roles": [
            "authenticated",
            "anonymous"
          ]
        }
      ],
      "submissionAccess": [
        {
          "type": "read_own",
          "roles": [
            "authenticated"
          ]
        },
        {
          "type": "update_own",
          "roles": [
            "authenticated"
          ]
        },
        {
          "type": "delete_own",
          "roles": [
            "authenticated"
          ]
        },
        {
          "type": "self"
        }
      ]
    },
    "language": {
      "title": "Language",
      "type": "resource",
      "name": "language",
      "path": "language",
      "tags": [],
      "components": [
        {
          "label":"Language",
          "tableView" :true,
          "key":"language",
          "type":"textfield",
          "input":true,
          "unique": true,
          "validate": {
            "required": true
          }
        },
        {
          "label":"Language key",
          "tableView":true,
          "key":"languageKey",
          "type":"textfield",
          "input":true,
          "unique": true,
          "validate": {
            "required": true
          }
        },
        {
          "label":"Translations",
          "tableView":false,
          "key":"translations",
          "type":"datamap",
          "input":true,
          "valueComponent": {
            "label":"Translation",
            "tableView":true,
            "key":"key",
            "type":"textfield",
            "input":true
          }
        },
        {
          "type":"button",
          "label":"Submit",
          "key":"submit",
          "disableOnInvalid":true,
          "input":true,
          "tableView":false
        }
      ],
      "access": [
        {
          "type": "read_all",
          "roles": [
            "administrator",
            "authenticated",
            "anonymous"
          ]
        }
      ],
      "submissionAccess": [
        {
          "type": "read_all",
          "roles": [
            "administrator",
            "authenticated",
            "anonymous"
          ]
        }
      ]
    },
    "team": {
      "title": "Team",
      "type": "resource",
      "name": "team",
      "path": "team",
      "tags": [],
      "components": [
        {
          "label": "Team Name",
          "key": "name",
          "type": "textfield",
          "placeholder": "Enter the name for this team",
          "validate": {
            "required": true
          }
        },
        {
          "label": "Submit",
          "key": "submit",
          "type": "button",
          "theme": "primary"
        }
      ],
      "access": [
        {
          "type": "read_all",
          "roles": [
            "authenticated",
            "anonymous"
          ]
        }
      ],
      "submissionAccess": []
    },
    "member": {
      "title": "Team Member",
      "type": "resource",
      "name": "member",
      "path": "member",
      "components": [
        {
          "label": "Team",
          "key": "team",
          "type": "select",
          "reference": true,
          "dataSrc": "resource",
          "data": {
            "resource": "team"
          },
          "template": "<span>{{ item.data.name }}</span>"
        },
        {
          "label": "User ID",
          "key": "userId",
          "type": "hidden"
        },
        {
          "label": "Email",
          "key": "email",
          "type": "email",
          "validate": {
            "required": true, 
            "maxLength": 254
          }
        },
        {
          "label": "Team Admin",
          "key": "admin",
          "type": "checkbox",
          "tooltip": "Team Admins can add and remove other team members."
        },
        {
          "label": "Submit",
          "key": "submit",
          "type": "button",
          "theme": "primary"
        }
      ],
      "access": [
        {
          "type": "read_all",
          "roles": [
            "authenticated"
          ]
        }
      ],
      "submissionAccess": []
    }
  },
  "access": []
}
